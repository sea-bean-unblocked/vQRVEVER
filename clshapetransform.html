<!-- shxyder -->
<!DOCTYPE html> 
<html lang="en-us"> <head> <meta charset="utf-8" /> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <style> html, body { background-image: url("https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/Build/Build.jpg"); background-position: center; background-repeat: no-repeat; background-size: cover; width: 100%; height: 100%; overflow: visible; padding: 0; margin: 0; background-color: black; }

  div#gameContainer {
    background: transparent !important;
    position: absolute;
    top: 0px !important;
    width: 100% !important;
    height: 100% !important;
    left: 0px !important;
  }

  div#gameContainer canvas {
    position: absolute;
    width: 100% !important;
    height: 100% !important;
  }

  div#gameContainer canvas[data-pixel-art="true"] {
    position: absolute;
    image-rendering: optimizeSpeed;
    image-rendering: -webkit-crisp-edges;
    image-rendering: -moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering: crisp-edges;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: optimize-contrast;
    image-rendering: pixelated;
    -ms-interpolation-mode: nearest-neighbor;
  }

  .loadingOut {
    width: 250px;
    position: fixed;
    left: 50%;
    top: calc(50% - 8px);
    transform: translate(-50%);
    border: 2px solid white;
    height: 14px;
    background: transparent;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(
      to right,
      white,
      white 0%,
      transparent 0%,
      transparent
    );
    width: 100%;
  }

  .centered {
    position: fixed;
    top: 50%;
    left: 50%;
    margin-top: -150px;
    margin-left: -250px;
    width: 500px;
  }

  #orientation-warning {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: red;
    color: white;
    padding: 20px;
    border: 2px solid white;
    text-align: center;
    z-index: 1000;
  }

  #orientation-image {
    width: 125px;
    height: 125px;
    margin-top: 10px;
    display: none;
    position: fixed;
    top: calc(50% - 150px);
    left: 50%;
    transform: translate(-50%, -50%);
  }

  #loading-text {
    position: fixed;
    top: calc(50% + 20px);
    left: 50%;
    transform: translateX(-50%);
    color: white;
    font-family: Arial, sans-serif;
    font-size: 12px;
    text-shadow: 1px 1px 2px black;
  }
</style>
</head> <body> <img id="orientation-image" src="https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/TemplateData/Orientation/orientation.png" alt="Orientation" />

<div id="orientation-warning">
  <div>Please rotate your device to the correct mode.</div>
</div>

<div id="gameContainer">
  <div class="loadingOut">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <div id="loading-text">shayderrrr</div>

  <canvas id="unity-canvas" data-pixel-art=""></canvas>

  <script src="https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/Build/ShapeShifter_H5_V50.loader.js"></script>

  <script>
    var canvas = document.querySelector("#unity-canvas");
    var progressBar = document.querySelector("#progress-bar");
    var gameContainer = document.querySelector("#gameContainer");
    var orientationWarning = document.querySelector("#orientation-warning");
    var orientationImage = document.querySelector("#orientation-image");
    var loadingText = document.querySelector("#loading-text");

    const dataFilename =
      "0aea490714d24dd56d5d8f133db73317.data.unityweb";

    var config = {
      dataUrl: "",
      frameworkUrl:
        "https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/Build/4b48f13749459fd9a85976d443eff8f8.js.unityweb",
      codeUrl:
        "https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/Build/b4413c95649420a69c46417273ba947e.wasm.unityweb",
      streamingAssetsUrl: "StreamingAssets",
      companyName: "GameVGames",
      productName: "Shape Transform Race",
      productVersion: "0.1.0",
    };

    var scaleToFit;

    try {
      scaleToFit = !!JSON.parse("");
    } catch (e) {
      scaleToFit = true;
    }

    function updateProgressUI(percentVal, statusText) {
      var percentStr = percentVal + "%";
      progressBar.style.background =
        "linear-gradient(to right, white, white " +
        percentStr +
        ", transparent " +
        percentStr +
        ", transparent)";
      if (statusText) {
        loadingText.innerText =
          statusText + " " + Math.round(percentVal) + "%";
      }
    }

    function progressHandler(progress) {
      updateProgressUI(progress * 100, "Initializing Game...");
    }

    function onResize() {
      var container = canvas.parentElement;
      var w;
      var h;

      if (scaleToFit) {
        w = window.innerWidth;
        h = window.innerHeight;
        var r = 1080 / 1920;

        if (w * r > window.innerHeight) {
          w = Math.min(w, Math.ceil(h / r));
        }

        h = Math.floor(w * r);
      } else {
        w = 1920;
        h = 1080;
      }

      container.style.width = canvas.style.width = w + "px";
      container.style.height = canvas.style.height = h + "px";
      container.style.top =
        Math.floor((window.innerHeight - h) / 2) + "px";
      container.style.left =
        Math.floor((window.innerWidth - w) / 2) + "px";
    }

    function checkOrientation(orientation) {
      if (
        orientation === "Portrait" &&
        window.innerHeight < window.innerWidth
      ) {
        orientationWarning.style.display = "block";
        gameContainer.style.display = "none";
        orientationWarning.innerText =
          "Please rotate your device to portrait mode.";
        orientationImage.style.display = "block";
      } else if (
        orientation === "Landscape" &&
        window.innerHeight > window.innerWidth
      ) {
        orientationWarning.style.display = "block";
        gameContainer.style.display = "none";
        orientationWarning.innerText =
          "Please rotate your device to landscape mode.";
        orientationImage.style.display = "block";
      } else {
        orientationWarning.style.display = "none";
        gameContainer.style.display = "block";
        orientationImage.style.display = "none";
      }
    }

    function loadTemplateConfig() {
      var request = new XMLHttpRequest();
      request.open(
        "GET",
        "https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/TemplateData/Orientation/template.json",
        true
      );

      request.onreadystatechange = function () {
        if (request.readyState === 4 && request.status === 200) {
          var configJson = JSON.parse(request.responseText);
          var orientation = configJson.customOptions.find(function (
            option
          ) {
            return option.name === "orientation";
          }).default;
          checkOrientation(orientation);
        }
      };

      request.send();
    }

    async function mergeDataParts() {
      const totalParts = 8;
      const chunks = [];

      for (let i = 1; i <= totalParts; i++) {
        const partNumber = i.toString().padStart(2, "0");
        const partUrl = `https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/Build/${dataFilename}.part${partNumber}`;

        try {
          const response = await fetch(partUrl);
          if (!response.ok)
            throw new Error(`Part ${partNumber} could not be loaded.`);
          const chunk = await response.arrayBuffer();
          chunks.push(chunk);

          const downloadProgress = (i / totalParts) * 100;
          updateProgressUI(downloadProgress, "Downloading Assets...");
        } catch (error) {
          console.error(error);
          loadingText.innerText = "Error: Data missing!";
          throw error;
        }
      }

      updateProgressUI(100, "Merging Assets...");

      const blob = new Blob(chunks);
      return URL.createObjectURL(blob);
    }

    window.addEventListener("resize", function () {
      onResize();
      loadTemplateConfig();
    });

    mergeDataParts()
      .then(function (blobUrl) {
        config.dataUrl = blobUrl;

        createUnityInstance(canvas, config, progressHandler)
          .then(function (instance) {
            document.querySelector(".loadingOut").style.display = "none";
            loadingText.style.display = "none";
            onResize();
            loadTemplateConfig();
          })
          .catch(function (err) {
            console.error("Unity Instance Error:", err);
            loadingText.innerText = "Error starting the engine.";
          });
      })
      .catch(function (err) {
        console.error("Merge Error:", err);
      });

    loadTemplateConfig();
  </script>

  <script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/gh/ftbaldana/heex@main/js/rhmApi.js"
  ></script>
</div>
</body> </html>