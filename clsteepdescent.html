<!-- shxyder -->
<!-- ultimate game stash file -->
<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <style>
    html, body {
      padding: 0;
      margin: 0;
      overflow: hidden;
      height: 100%;
      background: #000;
    }
    canvas {
      width: 100%;
      height: 100%;
      display: block;
    }
    canvas:focus {
      outline: none;
    }
    #loading-cover {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 999;
    }
    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.1);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border-left-color: #ffcc00;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      100% {
        transform: rotate(360deg);
      }
    }
    #status-text {
      color: #888;
      margin-top: 15px;
      font-family: sans-serif;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div id="unity-container">
    <canvas id="unity-canvas"></canvas>
  </div>
  <div id="loading-cover">
    <div class="spinner"></div>
    <div id="status-text">Initializing Game Engine...</div>
  </div>
  <script>
    var myGameInstance = null;

    window.YaGames = {
      init: function() {
        return Promise.resolve(window.ysdk);
      }
    };

    window.ysdk = {
      environment: {
        i18n: { lang: "en", tld: "com" },
        app: { id: "local" },
        browser: { lang: "en" },
        payload: ""
      },
      deviceInfo: {
        type: "desktop",
        isMobile: () => false,
        isDesktop: () => true,
        isTablet: () => false,
        isTV: () => false
      },
      adv: {
        showFullscreenAdv: (c) => {
          c.callbacks.onOpen();
          setTimeout(() => c.callbacks.onClose(true), 200);
        },
        showRewardedVideo: (c) => {
          c.callbacks.onOpen();
          setTimeout(() => {
            c.callbacks.onRewarded();
            c.callbacks.onClose();
          }, 200);
        },
        getBannerAdvStatus: () => Promise.resolve({ stickyAdvIsShowing: false }),
        hideBannerAdv: () => {},
        showBannerAdv: () => {}
      },
      shortcut: {
        canShowPrompt: () => Promise.resolve({canShow: false}),
        showPrompt: () => Promise.resolve({outcome: 'rejected'})
      },
      feedback: {
        canReview: () => Promise.resolve({value: false}),
        requestReview: () => Promise.resolve({feedbackSent: false})
      },
      getPlayer: () => Promise.resolve({
        getName: () => "Guest",
        getPhoto: () => "null",
        getUniqueID: () => "0",
        getMode: () => "lite",
        setData: () => Promise.resolve(),
        getData: () => Promise.resolve({saves: "noData"})
      }),
      getPayments: () => Promise.resolve({
        getCatalog: () => Promise.resolve([]),
        getPurchases: () => Promise.resolve([])
      }),
      getLeaderboards: () => Promise.resolve({
        getLeaderboardDescription: () => Promise.resolve({}),
        getLeaderboardEntries: () => Promise.resolve({entries: []})
      })
    };

    function StaticRBTDeactivate() {}
    function PaintRBT(rbt) {}

    function InitSDK() {
      if(myGameInstance) {
        InitPlayer();
        RequestingEnvironmentData();
      }
    }

    function InitGame() {
      InitSDK();
    }

    function LanguageRequest() {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'SetLanguage', 'en');
    }

    function RequestingEnvironmentData() {
      var data = JSON.stringify({
        "language": "en",
        "domain": "com",
        "deviceType": "desktop",
        "isMobile": false,
        "isDesktop": true,
        "appID": "local",
        "browserLang": "en",
        "promptCanShow": false,
        "reviewCanShow": false
      });
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'SetEnvironmentData', data);
    }

    function InitPlayer() {
      var player = JSON.stringify({
        "playerAuth": "resolved",
        "playerName": "Guest",
        "playerId": "0",
        "playerPhoto": "null"
      });
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'SetInitializationSDK', player);
    }

    function GetPayments() {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'PaymentsEntries', JSON.stringify({id:[], title:[], description:[], imageURI:[], priceValue:[]}));
    }

    function FullAdShow() {
      if(myGameInstance) {
        myGameInstance.SendMessage('YandexGame', 'OpenFullAd');
        setTimeout(() => myGameInstance.SendMessage('YandexGame', 'CloseFullAd', 'true'), 300);
      }
    }

    function RewardedShow(id) {
      if(myGameInstance) {
        myGameInstance.SendMessage('YandexGame', 'OpenVideo');
        setTimeout(() => {
          myGameInstance.SendMessage('YandexGame', 'RewardVideo', id);
          myGameInstance.SendMessage('YandexGame', 'CloseVideo');
        }, 300);
      }
    }

    function LoadCloud() {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'SetLoadSaves', "noData");
    }

    function SaveCloud() {}
    function InitLeaderboard() {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'InitializedLB');
    }

    function GetLeaderboardScores() {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'LeaderboardEntries', JSON.stringify({entries: 'no data'}));
    }

    function SetLeaderboardScores() {}
    function Review() {}
    function PromptShow() {}
    function StickyAdActivity() {}
    function BuyPayments() {}

    function ConsumePurchase(id) {
      if(myGameInstance) myGameInstance.SendMessage('YandexGame', 'OnPurchaseSuccess', id);
    }

    const buildUrl = "https://cdn.jsdelivr.net/gh/z799gs/3z3z3@main/Build";
    const loaderUrl = buildUrl + "/SteepDescent.loader.js";
    const config = {
      dataUrl: buildUrl + "/08ed5de1ab67a9c2ae11d2f97f2780e8.data.unityweb",
      frameworkUrl: buildUrl + "/56cfcbc5a9b96769504612ff8878b999.js.unityweb",
      codeUrl: buildUrl + "/5f14ad0fdcb130010a9ca539b8acc937.wasm.unityweb",
      streamingAssetsUrl: "StreamingAssets",
      companyName: "JustPlay",
      productName: "CarCrashTest",
      productVersion: "1"
    };

    const script = document.createElement("script");
    script.src = loaderUrl;
    script.onload = () => {
      createUnityInstance(document.querySelector("#unity-canvas"), config, (progress) => {
        document.querySelector("#status-text").innerText = "Loading: " + Math.round(progress * 100) + "%";
      }).then((instance) => {
        myGameInstance = instance;
        document.querySelector("#loading-cover").style.display = "none";
        setTimeout(() => {
          InitSDK();
          LanguageRequest();
        }, 500);
      }).catch((err) => {
        console.error(err);
      });
    };
    document.body.appendChild(script);
  </script>
</body>
</html>
